# Pacman for Mangoboard
## 요구 사항
- arm-none-eabi-gcc
- mangoboard 64
- minicom
## 빌드
아래와 같은 코드를 실행하여 패키지를 다운로드합니다.
```
git clone -b image-core http://github.com/Yuoa/Pacman
```
이제, 프로젝트 폴더로 들어가서 make를 통해 바이너리 파일을 빌드합니다.
```
cd Pacman
make
```
bin 폴더 안에서 빌드된 바이너리 파일 "lcd" 를 확인할 수 있습니다.
## 실행
1. 먼저 망고보드를 끈 상황에서 망고보드를 PC와 연결합니다.
2. PC의 터미널에서 minicom을 실행합니다.
```
sudo minicom
```
3. minicom이 켜지면 망고보드의 전원을 켭니다.
4. 망고보드와 minicom이 자동으로 연결되고 ```MANGO64#``` 라는 쉘이 나타나면 ```loady``` 를 입력하여 y modem을 준비시킵니다.
5. ```Ctrl+A```를 누르고, ```S``` 를 누른 뒤 ```y-modem``` 을 선택한 후, ```Enter``` 버튼을 누르고 빌드한 바이너리 파일의 절대 경로를 입력합니다.
6. ```Enter``` 를 누르고 바이너리 파일이 업로드 완료될 때까지 기다립니다.
7. 업로드가 완료되고 다시 ```MANGO64#``` 쉘이 나타나면 ```bootelf``` 명령어를 입력하여 망고보드에 업로드한 바이너리 파일을 실행시킵니다.
8. 이제 팩맨 게임을 즐길 수 있습니다.
## 게임 룰
### 게임 첫 화면
먼저 첫 화면은 Stage 1, READY! 화면입니다.
- 맵은 총 42x32 크기의 구성입니다. 맵 크기에 따라 오리지널 팩맨의 맵을 벤치마킹한 우리만의 맵이 구현되어 있습니다. 이 맵에서 팩닷은 하단과 상단에 깔려 있으며, 파워펠렛은 네 곳의 모서리에 존재합니다.
- 좌측은 Status Board 입니다. 위에서부터 차례대로 SCORE, STAGE, LIFE가 표시됩니다. LIFE는 숫자가 아닌 팩맨 아이콘으로 표시됩니다.
### 인게임 화면
첫 화면에서 아무 방향으로 스와이프하여 팩맨을 조종하기 시작하면 READY가 사라지고 게임이 시작됩니다.
- 팩맨을 조종하여 팩닷 또는 파워펠렛을 먹으면 SCORE가 올라간다.
- 양 통로로 이동하면 실제 팩맨 게임과 같이 반대편 통로에서 나타나는 것을 볼 수 있다.
### 펠렛 모드
파워펠렛을 먹으면 일정 시간동안 펠렛 모드가 됩니다.
- 펠렛 모드에서는 유령이 겁을 먹은 모습으로 변하고, 이 때 유령을 먹으면 스코어가 올라갑니다.
- 펠렛 모드가 풀리기 직전에는 유령이 하얀색과 파란색 사이를 오가며 시간이 임박함을 알려줍니다.
- (이외의 경우에 유령에게 다가가면 팩맨은 죽고 라이프가 줄어들게 됩니다.)
### 스테이지 시스템
모든 파워펠렛과 팩닷을 먹으면 스테이지가 올라갑니다.
- 우리의 게임은 총 다섯 스테이지가 구현되어 있습니다.
- 스테이지가 올라갈 수록 유령의 수가 늘어납니다.
- 다섯 번째 스테이지는 유령의 수는 안늘어나는 대신 그들의 스피드가 증가합니다.
### 게임 오버
모든 스테이지를 완료하거나 라이프를 모두 소진하면 게임 오버가 표시됩니다.
